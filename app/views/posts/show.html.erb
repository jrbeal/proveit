<body>
  <div class="sidepadding spacing">
    <%= link_to 'Home', root_path %>
    <%= link_to_unless @post.parent == nil, 'Parent', @post.parent %>
    <%= link_to_unless @post.parent == nil, 'Root', @post.topic.root %>

 	  <div class="right" style="margin-right: 5px;">
			<%= link_to "Less", "#", :id => "lessmaster"%>
			<<span class="verbosity"></span>>
			<%= link_to "More", "#", :id => "moremaster"%>
    </div>
	</div>

	<%= render partial: "application/post", object: @post, locals: {indent: 0, kind: ""} %>

  <div class="toppadding20 sidepadding">
		<hr size="2" noshade>
	</div>

  <div id="kids" class="toppadding10">
    <div id= "kidtype" class="sidepadding spacing">
			<%= link_to "Reply", "#", :id => "createkid", :data => {:kind => @post.kind} %>
			<%= link_to "Collapse", "#", :id => "collapse" %>
			<%= link_to "Expand", "#", :id => "expand" %>
			<div class="right sidepadding">
				<%= genpostbuttons(@post) %>
			</div>
	  </div>

	  <div class="toppadding10">
			<%= render partial: "application/kids", object: @kids, locals: {indent: 0} %>
	  </div>
  </div>

	<div id="replies" class="sidepadding toppadding20">
		<div id="opinionreply">
			<form action="<%= posts_path %>" method="post">
				<div style="display: flex; flex-direction: row; justify-content: flex-start">
					<div style="width:14%">
						<b>Objection Type:</b>
					</div>
					<div>
						<%= radio_button_tag(:objectiontype, "manual", true)%>
						<%= label_tag(:objectiontype, "Manual") %>
						<%= radio_button_tag(:objectiontype, "fallacy") %>
						<%= label_tag(:objectiontype, "Fallacy") %>
						<%= radio_button_tag(:objectiontype, "inconclusive") %>
						<%= label_tag(:objectiontype, "Inconclusive") %>
						<%= radio_button_tag(:objectiontype, "ambiguous") %>
						<%= label_tag(:objectiontype, "Ambiguous") %>
						<%= radio_button_tag(:objectiontype, "irrelevant") %>
						<%= label_tag(:objectiontype, "Irrelevant") %>
						<%= radio_button_tag(:objectiontype, "duplicate") %>
						<%= label_tag(:objectiontype, "Duplicate") %>
						<%= radio_button_tag(:objectiontype, "mediationrequest") %>
						<%= label_tag(:objectiontype, "Mediation Request") %>
					</div>
				</div>

				<div id="objectionfallacy" class="toppadding10" style="margin-left:14%">
					<% joined = @fallacies + @subfolders %>
					<% joined = joined.sort { |a, b| a.name <=> b.name } %>
					<%= select_tag 'objectionfallacylist', options_from_collection_for_select(joined, "id", "name"), :class => 'fallacies', :size => 6, :style => 'overflow-y: auto; width: 325px' %> &nbsp &nbsp
				</div>

				<div class="toppadding10" >
					<div class="submit_text message_text">
						In my opinion:
					</div>
					<textarea id="objectionopinion" class="message message_placeholder" name="message" rows="1" cols="100" placeholder="Enter objection here. Be as concise as possible."></textarea>
				</div>
				<div class="toppadding5">
					<div class="submit_text support_text">
						Support (Optional):
					</div>
					<textarea id="objectionsupport" class="message message_placeholder" name="support" rows="10" cols="100" placeholder="Enter additional rationale, clarification and supporting information here."></textarea>
				</div>
				<div class="toppadding5">
					<div class="submit_text support_url">
						URL (Optional):
					</div>
					<textarea id="objectionurl" class="message support_placeholder" name="url" rows="1" cols="100" placeholder="Enter related link here."></textarea>
				</div>

				<div>
					<hr size="2" noshade>
				</div>

				<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
				<%= hidden_field_tag :parentpost, @post.id %>
				<%= hidden_field_tag :topic, @post.topic.id %>
				<%= hidden_field_tag :kind, Post::OPINION %>

				<div class="toppadding10">
					<%= submit_tag("Submit")%>
					<button class="right sidepadding" name="Cancel" type="button" id="cancelopinionreply">
						Cancel
					</button>
				</div>
			</form>
		</div>

		<div id="initiatorreply">
			<div id="create">
				<form action="<%= posts_path %>" method="post">

					<div style="display: flex; flex-direction: row; justify-content: flex-start">
						<div style="width:14%">
							Opinion Type:
						</div>
						<div>
							<%= radio_button_tag(:initiatortype, "manual", true)%>
							<%= label_tag("Manual") %>
							<%= radio_button_tag(:initiatortype, "fallacy") %>
							<%= label_tag("Fallacy") %>
						</div>
					</div>

					<div id="initiatorfallacy" class="toppadding10" style="margin-left:14%">
						<% joined = @fallacies + @subfolders %>
						<% joined = joined.sort { |a, b| a.name <=> b.name } %>
						<%= select_tag 'initiatorfallacylist', options_from_collection_for_select(joined, "id", "name"), :class => 'fallacies', :size => 6, :style => 'overflow-y: auto; width: 325px' %> &nbsp &nbsp
					</div>

					<div class="toppadding10">
						<div class="submit_text message_text">
							Opinion:
						</div>
						<textarea id="initiatoropinion" class="message message_placeholder" name="message" rows="1" cols="100" placeholder="Enter opinion here."></textarea>
					</div>
					<div class="toppadding5">
						<div class="submit_text support_text">
							Support (Optional):
						</div>
						<textarea id="initiatorsupport" class="message message_placeholder" name="support" rows="10" cols="100" placeholder="Enter additional supporting information here."></textarea>
					</div>
					<div class="toppadding5">
						<div class="submit_text support_url">
							URL (Optional):
						</div>
						<textarea id="initiatorurl" class="message support_placeholder" name="url" rows="1" cols="100" placeholder="Enter related link here."></textarea>
					</div>

					<div>
						<hr size="2" noshade>
					</div>

					<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
					<%= hidden_field_tag :parentpost, @post.id %>
					<%= hidden_field_tag :topic, @post.topic.id %>
					<%= hidden_field_tag :kind, Post::OPINION %>

					<div class="toppadding10">
						<%= submit_tag("Submit")%>
						<button class="right sidepadding" name="Cancel" type="button" id="cancelinitiatorreply">
							Cancel
						</button>
					</div>

				</form>
			</div>
		</div>

		<div id="commentreply">
			<form action="<%= posts_path %>" method="post">

				<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
				<%= hidden_field_tag :parentpost, @post.id %>
				<%= hidden_field_tag :topic, @post.topic.id %>
				<%= hidden_field_tag :kind, Post::COMMENT %>

				<div class="toppadding10">
					<div class="submit_text message_text">
						Comment:
					</div>
					<textarea class="message message_placeholder" name="message" rows="1" cols="100" placeholder="Enter comment here."></textarea>
				</div>
				<div class="toppadding5">
					<div class="submit_text support_text">
						Support (Optional):
					</div>
					<textarea class="message message_placeholder" name="support" rows="10" cols="100" placeholder="Enter additional supporting information here."></textarea>
				</div>
				<div class="toppadding5">
					<div class="submit_text support_url">
						URL (Optional):
					</div>
					<textarea class="message support_placeholder" name="url" rows="1" cols="100" placeholder="Enter related link here."></textarea>
				</div>

				<div>
					<hr size="2" noshade>
				</div>

				<div class="toppadding10">
					<%= submit_tag("Submit")%>
					<button class="right sidepadding" name="Cancel" type="button" id="cancelcommentreply">
						Cancel
					</button>
				</div>
			</form>
		</div>
	</div>
</body>